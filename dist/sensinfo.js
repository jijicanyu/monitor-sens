define("alipay/sensinfo/1.2.0/sensinfo",["./idcard","./bankcard","./mobilephone"],function(a,b){function c(a,b){return String(a).replace(g[b],"$1...$2")}var d=a("./idcard"),e=a("./bankcard"),f=a("./mobilephone"),g={"6...4":/^(.{6}).*(.{4})$/,"3...4":/^(.{3}).*(.{4})$/};b.scan=function(a,b){for(var g,h,i,j,k,l,m,n,o=/([0-9]\.)?\b(\d{11,19}X?)\b/g,p=/\s{2,}|\r|\n/g;h=o.exec(a);)if(l="undefined"!=typeof h[1],!l){if(g=h[2],j=Math.max(h.index-30,0),k=g.length+60,i=a.substr(j,k),i=i.replace(p,""),f.verify(g))m="mobile",n=c(g,"3...4");else if(d.verify(g))m="idcard",n=c(g,"6...4");else{if(!e.verify(g))continue;m="bankcard",n=c(g,"6...4")}i=i.replace(g,n),b&&b.hasOwnProperty("*")&&"function"==typeof b["*"]&&b["*"].call(this,m,n,i)}}}),define("alipay/sensinfo/1.2.0/idcard",[],function(a,b){function c(a){return 0===a%4&&0!==a%400||0===a%400}function d(a,b,d){if(1>b||b>12)return!1;var e=g[b];return 2===b&&c(a)&&(e=29),d>0&&e>=d}function e(a){if(!/^[0-9]{17}[0-9xX]$/.test(a))return!1;var b=parseInt(a.substr(6,4),10),c=parseInt(a.substr(10,2),10),e=parseInt(a.substr(12,2),10),f=a.substr(17,1);if(!d(b,c,e))return!1;for(var g=0,j=0;17>j;j++)g+=parseInt(a.charAt(j),10)*h[j];var k=g%11;return i.charAt(k)===f}function f(a){return a?(a=String(a),j.test(a)&&18===a.length&&e(a)):!1}var g=[0,31,28,31,30,31,30,31,31,30,31,30,31],h=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i="10X98765432",j=/^(1[1-5]|2[1-3]|3[1-7]|4[1-6]|5[1-4]|6[1-5]|71|81)/;b.verify=f}),define("alipay/sensinfo/1.2.0/bankcard",[],function(a,b){function c(a){for(var b,c,d=0,e=a.length-1;e>=0;e--)b=parseInt(a.charAt(e),10),c=e%2===a.length%2,c&&(b=2*b,b>9&&(b-=9)),d+=b;return 0===d%10}var d=/^[34569][0-9]{12,18}$/;b.verify=function(a){return a=String(a),d.test(a)&&c(a)}}),define("alipay/sensinfo/1.2.0/mobilephone",[],function(a,b){var c=/^(?:13[0-9]|14[57]|15[0-35-9]|18[0-9])\d{8}$/;b.verify=function(a){return c.test(a)}});
