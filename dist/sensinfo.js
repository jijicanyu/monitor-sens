define("alipay/sensinfo/1.0.0/sensinfo",["./idcard","./bankcard","./mobilephone","alipay/monitor/2.0.0/monitor","arale/detector/1.1.0/detector"],function(a,b){function c(a,b){return String(a).replace(h[b],"$1...$2")}var d=a("./idcard"),e=a("./bankcard"),f=a("./mobilephone"),g=a("alipay/monitor/2.0.0/monitor"),h={"6...4":/^(.{6}).*(.{4})$/,"3...4":/^(.{3}).*(.{4})$/};b.scan=function(a){for(var b,h,i,j,k,l=/\b\d{11,19}X?\b/g,m=/\s{2,}|\r|\n/g;h=l.exec(a);)b=h[0],j=Math.max(h.index-30,0),k=b.length+60,i=a.substr(j,k),i=i.replace(m,""),f.verify(b)?g.log("mobile="+c(b,"3...4")+"```"+i,"sens"):d.verify(b)?g.log("idcard="+c(b,"6...4")+"```"+i,"sens"):e.verify(b)&&g.log("bankcard="+c(b,"6...4")+"```"+i,"sens")}}),define("alipay/sensinfo/1.0.0/idcard",[],function(a,b){function c(a){return 0===a%4&&0!==a%400||0===a%400}function d(a,b,d){if(1>b||b>12)return!1;var e=h[b];return 2===b&&c(a)&&(e=29),d>0&&e>=d}function e(a){if(!/^[0-9]{15}$/.test(a))return!1;var b=parseInt("19"+a.substr(6,2),10),c=parseInt(a.substr(8,2),10),e=parseInt(a.substr(10,2),10);return d(b,c,e)?!0:!1}function f(a){if(!/^[0-9]{17}[0-9xX]$/.test(a))return!1;var b=parseInt(a.substr(6,4),10),c=parseInt(a.substr(10,2),10),e=parseInt(a.substr(12,2),10),f=a.substr(17,1);if(!d(b,c,e))return!1;for(var g=0,h=0;17>h;h++)g+=parseInt(a.charAt(h),10)*i[h];var k=g%11;return j.charAt(k)===f}function g(a){return a?(a=String(a),k.test(a)?18===a.length?f(a):15===a.length?e(a):!1:!1):!1}var h=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],j="10X98765432",k=/^(1[1-5]|2[1-3]|3[1-7]|4[1-6]|5[1-4]|6[1-5]|71|81)/;b.verify=g}),define("alipay/sensinfo/1.0.0/bankcard",[],function(a,b){function c(a){for(var b,c,d=0,e=a.length-1;e>=0;e--)b=parseInt(a.charAt(e),10),c=e%2===a.length%2,c&&(b=2*b,b>9&&(b-=9)),d+=b;return 0===d%10}var d=/^[34569][0-9]{12,18}$/;b.verify=function(a){return a=String(a),d.test(a)&&c(a)}}),define("alipay/sensinfo/1.0.0/mobilephone",[],function(a,b){var c=/^(?:13[0-9]|14[57]|15[0-35-9]|18[0-9])\d{8}$/;b.verify=function(a){return c.test(a)}});
